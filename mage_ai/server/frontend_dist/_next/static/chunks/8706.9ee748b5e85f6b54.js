"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8706],{38706:function(e,n,t){t.r(n),t.d(n,{default:function(){return xe}});var r,i,o,u=t(82394),l=t(82684),c=t(78050),s=t(17717),d=t(9518),a=t(11611),f=t(28160),p=t(53808),m=t(89706),v=t(3862),h=t(44425),g=v.ZPm.Alphabet,y=v.ZPm.BlockGeneric,Z=v.ZPm.Callback,b=v.ZPm.Charts,P=v.ZPm.CircleWithArrowUp,x=v.ZPm.Code,C=v.ZPm.Conditional,j=v.ZPm.CubeWithArrowDown,O=v.ZPm.DBT,w=v.ZPm.Database,E=(v.ZPm.Ellipsis,v.ZPm.FileFill,v.ZPm.FileIcon),L=(v.ZPm.FolderIcon,v.ZPm.FrameBoxSelection),M=v.ZPm.Insights,R=v.ZPm.Lightning,S=v.ZPm.List,k=(v.ZPm.Logs,v.ZPm.Pipeline,v.ZPm.PipelineV3,v.ZPm.Sensor),I=v.ZPm.Table,D=v.ZPm.Terminal,F=(r={},(0,u.Z)(r,h.tf.CALLBACK,Z),(0,u.Z)(r,h.tf.CHART,b),(0,u.Z)(r,h.tf.CONDITIONAL,C),(0,u.Z)(r,h.tf.CUSTOM,y),(0,u.Z)(r,h.tf.DATA_EXPORTER,P),(0,u.Z)(r,h.tf.DATA_LOADER,j),(0,u.Z)(r,h.tf.DBT,O),(0,u.Z)(r,h.tf.EXTENSION,R),(0,u.Z)(r,h.tf.MARKDOWN,E),(0,u.Z)(r,h.tf.SENSOR,k),(0,u.Z)(r,h.tf.TRANSFORMER,L),r),T=(i={},(0,u.Z)(i,m.Lu.CSV,I),(0,u.Z)(i,m.Lu.JINJA,E),(0,u.Z)(i,m.Lu.JSON,x),(0,u.Z)(i,m.Lu.MD,E),(0,u.Z)(i,m.Lu.PY,R),(0,u.Z)(i,m.Lu.R,M),(0,u.Z)(i,m.Lu.SH,D),(0,u.Z)(i,m.Lu.SQL,w),(0,u.Z)(i,m.Lu.TXT,g),(0,u.Z)(i,m.Lu.YAML,S),(0,u.Z)(i,m.Lu.YML,S),i),N=(o={},(0,u.Z)(o,m.Lu.CSV,"blueHi"),(0,u.Z)(o,m.Lu.JSON,"purple"),(0,u.Z)(o,m.Lu.MD,"purpleHi"),(0,u.Z)(o,m.Lu.PY,"yellowMd"),(0,u.Z)(o,m.Lu.R,"redHi"),(0,u.Z)(o,m.Lu.SH,"greenHi"),(0,u.Z)(o,m.Lu.SQL,"blueHi"),(0,u.Z)(o,m.Lu.TXT,"skyHi"),(0,u.Z)(o,m.Lu.YAML,"green"),(0,u.Z)(o,m.Lu.YML,"green"),o);function _(e){var n=null==e?void 0:e.match(m.d2);return(null==n?void 0:n.length)>=1?n[0].replace(".",""):null}var A=t(74401),B=t(94231),H=t(81728);var U=t(316),z=t(89635);function Q(e){return"".concat(e,"-child")}function Y(e){return"".concat(e,"-child-items")}var G=(0,d.default)(z.E.div).withConfig({displayName:"indexstyle__FolderStyled",componentId:"sc-qnphp3-0"})(["",""],(function(e){e.theme;var n=e.uuid;return"\n    .".concat(Q(n)," {\n      &:hover {\n        background-color: var(--colors-graymd);\n        cursor: pointer;\n\n        -moz-user-select: none; /* Firefox */\n        -ms-user-select: none; /* Internet Explorer/Edge */\n        -webkit-user-select: none; /* Safari */\n        user-select: none; /* Standard property */\n      }\n    }\n\n    .").concat(Y(n)," {\n      &.collapsed {\n        display: none;\n        height: 0;\n        visibility: hidden;\n      }\n\n      &.expanded {\n        visibility: visible;\n      }\n    }\n  ")})),q=d.default.div.withConfig({displayName:"indexstyle__NameStyled",componentId:"sc-qnphp3-1"})(["padding-bottom:","px;padding-top:","px;"],(function(e){return e.theme.padding.xs}),(function(e){return e.theme.padding.xs})),V=d.default.div.withConfig({displayName:"indexstyle__ColumnGapStyled",componentId:"sc-qnphp3-2"})(["height:100%;padding-left:","px;padding-right:","px;width:","px;"],(function(e){return e.theme.icons.size.sm/2}),(function(e){return e.theme.grid.gutter.width.sm}),(function(e){return e.theme.icons.size.sm/2})),X=d.default.div.withConfig({displayName:"indexstyle__LineStyled",componentId:"sc-qnphp3-3"})(["background:",";height:inherit;width:1px;"],(function(e){return e.theme.borders.color.base.hover})),J=t(86735),K=t(28598);function W(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function $(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?W(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}v.ZPm.DiamondShared;var ee=v.ZPm.FileIcon,ne=v.ZPm.Circle,te=v.ZPm.CaretDown,re=v.ZPm.CaretRight;function ie(e){return"icon-root-".concat(e)}function oe(e){return"icon-action-root-".concat(e)}function ue(e){return"items-root-".concat(e)}var le,ce,se=function e(n){var t,r=n.app,i=n.dragSettings,o=n.item,g=n.onClick,y=n.onContextMenu,Z=n.themeContext,b=o,P=b.items,x=b.path,C=b.name,j=(0,l.useMemo)((function(){return null!=P}),[P]),O=function(e){var n=e.allowEmptyFolders,t=e.children,r=e.disabled,i=e.file,o=(e.filePath,e.isFolder),u=e.isInPipelinesFolder,c=e.isFileDisabled,d=e.isNotFolder,a=e.filePathToUse,f=e.name,p=e.theme,g=(e.useRootFolder,e.uuid,(0,l.useMemo)((function(){return o||!!t&&!d}),[t,o,d])),y=(0,l.useMemo)((function(){var e,n,t;return null==a||null===(e=a.split)||void 0===e||null===(n=e.call(a,s.sep))||void 0===n||null===(t=n.find)||void 0===t?void 0:t.call(n,(function(e){return(0,H.C5)(e)in h.tj}))}),[a]),Z=(0,l.useMemo)((function(){return y?(0,H.C5)(y):null}),[y]),b=(0,l.useMemo)((function(){return g&&y&&y===f}),[y,g,f]),P=(0,l.useMemo)((function(){return y&&!g&&(0,A.y)(f)&&(0,A.o$)(f,Z)}),[Z,y,g,f]),x=(0,l.useMemo)((function(){var e;return y?null===B.g||void 0===B.g||null===(e=(0,B.g)(Z,{theme:p}))||void 0===e?void 0:e.accent:null}),[Z,y,p]),C=f===m.oy,j=((0,l.useMemo)((function(){return c?c(a,t):r||u&&"__init__.py"===f||y&&"__init__.py"===f}),[t,r,a,y,c,u,f]),(0,l.useMemo)((function(){var e=null,t=v.aAW||v.iUK,r=(i||{extension:null}).extension;if(!g&&d)t=v.mH4;else if(C)t=v.vd;else if(f===m.PF)t=v.GQr;else if(g&&!r)t=b&&(null==F?void 0:F[Z])||v.ROc;else if(!f&&n)t=v.mH4;else if(u&&!g&&"metadata.yaml"===f)t=v.B_i;else if(null!=f&&f.includes(".log"))t=v.ULi;else if(!g||r){var o=r||_(f);o&&o in T&&(t=T[o],e=N[o]||"gray")}return{Icon:t,iconColor:e}}),[n,Z,i,C,b,g,d,u,f])),O=j.Icon,w=j.iconColor;return{BlockIcon:(0,l.useMemo)((function(){var e=v.Cdc;return h.tf.CHART===Z&&(e=v.GQr),e}),[Z]),Icon:O,blockType:Z,color:x,folderNameForBlock:y,iconColor:w,isBlockFile:P,isFirstParentFolderForBlock:b}}({filePathToUse:x,isFolder:j,name:C,theme:Z,uuid:C}),w=O.BlockIcon,E=O.Icon,L=O.blockType,M=O.color,R=O.folderNameForBlock,S=O.iconColor,k=O.isBlockFile,I=O.isFirstParentFolderForBlock,D=(0,l.useMemo)((function(){return!!R&&!j&&!!k}),[R,k,j]),z=(0,l.useMemo)((function(){return j?"blueMuted":function(e){return N[_(e)]||"gray"}(String(C))}),[j,C]),W=(0,l.useMemo)((function(){return String(null==o?void 0:o.path)||s.sep}),[o]),le=(0,l.useMemo)((function(){var e,n;return(null==W||null===(e=W.split(s.sep))||void 0===e||null===(n=e.filter((function(e){return(null==e?void 0:e.length)>=1&&e!==s.sep})))||void 0===n?void 0:n.length)-1}),[W]),ce=(0,l.useMemo)((function(){return"".concat(null==r?void 0:r.uuid,"-").concat((0,H.kE)(W))}),[W,null==r?void 0:r.uuid]),se=(0,l.useRef)(null),de=(0,l.useRef)(null),ae=(0,l.useRef)(null),fe=(0,l.useRef)((0,p.U2)(p.lQ,{})),pe=(0,l.useRef)(ce in(null==fe?void 0:fe.current)?null==fe||null===(t=fe.current)||void 0===t?void 0:t[ce]:0===le),me=(0,l.useRef)(!1),ve=(0,l.useRef)(null),he=(0,l.useCallback)((function(e){return(0,K.jsxs)("div",{style:{display:"flex"},children:[(0,K.jsx)(V,{}),(0,J.w6)((e||0)+le).map((function(e,n){return(0,K.jsx)(V,{children:(0,K.jsx)(X,{})},"spacer-".concat(ce,"-").concat(n))}))]})}),[le,ce]),ge=(0,l.useMemo)((function(){return he()}),[he]),ye=(0,l.useCallback)((function(){if(j){if(I)return(0,K.jsx)(E,{color:M,small:!0});if(E)return(0,K.jsx)(E,{colorName:z,small:!0})}else if(D&&w)return(0,K.jsx)(w,{color:M,size:8});var e=E||ee;return(0,K.jsx)(e,{colorName:z||S,small:!0})}),[w,E,z,M,j,D,0,S,R,I]),Ze=(0,l.useCallback)((function(){var e=j?null!=pe&&pe.current?te:re:ne;return(0,K.jsx)(e,{colorName:j?z:"whiteLo",size:j?void 0:8,xsmall:j})}),[z,j]),be=(0,l.useCallback)((function(){if(null==se||!se.current){var e=document.getElementById(ie(ce));e&&(se.current=(0,c.createRoot)(e))}if(null!=se&&se.current&&se.current.render((0,K.jsx)(d.ThemeProvider,{theme:Z,children:ye()})),null==de||!de.current){var n=document.getElementById(oe(ce));n&&(de.current=(0,c.createRoot)(n))}null!=de&&de.current&&de.current.render((0,K.jsx)(d.ThemeProvider,{theme:Z,children:Ze()}))}),[Z,ce,ye,Ze]),Pe=(0,l.useCallback)((function(){if(null==ae||!ae.current){var n=document.getElementById(ue(ce));n&&(ae.current=(0,c.createRoot)(n))}if(null!=ae&&ae.current){var t=(0,J.YC)(Object.values(P||{}),(function(e){var n=void 0!==(null==e?void 0:e.items)&&null!==(null==e?void 0:e.items)?0:1;return"".concat(n,"-").concat(null==e?void 0:e.name)}));ae.current.render((0,K.jsx)(d.ThemeProvider,{theme:Z,children:(0,K.jsx)(a.Z,{alignItems:"center",ref:ve,rowGap:0,uuid:Y(ce),children:null==t?void 0:t.map((function(n){return(0,K.jsx)(e,{app:r,dragSettings:i,item:n,onClick:g,onContextMenu:y,themeContext:Z},n.name)}))})})),me.current=!0}}),[r,i,Z,ce,P,he,g,y]),xe=(0,l.useCallback)((function(){if((0,p.rQ)(p.lQ,(0,u.Z)({},ce,null==pe?void 0:pe.current)),be(),null!=me&&me.current&&null!=ve&&ve.current){var e=null==ve?void 0:ve.current;e.className=[(0,U.xi)(null==e?void 0:e.className,["collapsed","expanded"]),pe.current?"expanded":"collapsed"].join(" ")}else P&&pe.current&&Pe()}),[P,be,Pe,ce]);return(0,l.useEffect)((function(){null!=me&&me.current||null!=pe&&pe.current&&xe()}),[]),(0,K.jsxs)(G,$($({},i?i(o,{blockType:L,isBlockFile:k,isFolder:j,path:x}):{}),{},{uuid:ce,children:[(0,K.jsxs)(a.Z,{columnGap:0,onClick:function(e){e.preventDefault(),e.stopPropagation(),pe.current=!pe.current,xe(),g&&(null==g||g(e,o))},onContextMenu:y,templateColumns:"auto 1fr",uuid:Q(ce),children:[ge,(0,K.jsx)(q,{children:(0,K.jsxs)(a.Z,{alignItems:"center",columnGap:8,templateColumns:"auto auto 1fr",children:[ye?(0,K.jsx)("div",{id:ie(ce),children:ye()}):(0,K.jsx)("div",{id:oe(ce),children:Ze()}),C&&(0,K.jsx)(f.Z,{blue:j,secondary:!j,small:!0,children:String(C)})]})})]}),(0,K.jsx)("div",{id:ue(ce)})]}))},de=t(18735),ae=t(48655),fe=t(64524),pe=t(87118),me=t(28189);function ve(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function he(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ve(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ve(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.FILE="file",e.FOLDER="folder"}(le||(le={})),function(e){e.DIRECTORY="directory"}(ce||(ce={}));var ge=t(42122),ye=t(39643),Ze=t(5508),be=t(31237);function Pe(e,n){var t,r,i,o=e.app,d=e.itemDragSettings,a=e.operations,f=e.removeContextMenu,p=e.renderContextMenu,h=(0,l.useRef)(null),g=(0,be.gh)(),y=(0,l.useRef)(null),Z=(0,l.useRef)(null),b=(0,l.useMemo)((function(){return null==o?void 0:o.uuid}),[o]),P=(0,l.useMemo)((function(){return"system-browser-items-root-".concat(b)}),[b]),x=null==o||null===(t=o.operations)||void 0===t||null===(r=t[pe.T.ADD_PANEL])||void 0===r?void 0:r.effect,C=null==a||null===(i=a[pe.T.REMOVE_APP])||void 0===i?void 0:i.effect;function j(e){if(null==Z||!Z.current){var n=document.getElementById(P);try{Z.current=(0,c.createRoot)(n)}catch(e){console.error(e)}}if(null!=Z&&Z.current){var t=function(e){var n={},t=e.reduce((function(e,n){return he(he({},e),{},(0,u.Z)({},n.path,n))}),{});return null==e||e.forEach((function(e){var r=n,i=null==e?void 0:e.path;t[i]=e;var o=null==i?void 0:i.split(s.sep);o.forEach((function(e,n){if(null!=e&&e.length){var i,u=null==o?void 0:o.slice(0,n).join(s.sep),l=null==o?void 0:o.slice(0,n+1).join(s.sep),c=he({name:e,path:l},null==t?void 0:t[l]);(null==u?void 0:u.length)>=1&&(c.parent=u),n===o.length-1?r[e]=he(he({},c),{},{type:"file"}):(r[e]||(r[e]=he(he({},c),{},{items:{},type:"folder"})),r=null===(i=r[e])||void 0===i?void 0:i.items)}}))})),n}(e);Z.current.render((0,K.jsx)(Ze.default,{children:Object.values(t||{}).map((function(e,n){return(0,K.jsx)(se,{app:o,dragSettings:d,item:e,onClick:function(e,n){e.preventDefault(),e.stopPropagation(),f(e),le.FILE===(null==n?void 0:n.type)&&x({apps:[function(e){return(0,ge.Ee)({operations:(0,u.Z)({},pe.T.REMOVE_APP,{effect:C}),options:{file:n},subtype:me.dS.IDE,type:me.KU.EDITOR,uuid:null==n?void 0:n.name},e)}],uuid:"panel-".concat(null==n?void 0:n.name)})},onContextMenu:function(e){var n=[{uuid:"New file",Icon:v.Zrf},{uuid:"New folder"},{divider:!0},{uuid:"Open file",Icon:v.Zrf,keyboardShortcuts:[[ye.zX,ye.Uq]]},{uuid:"Duplicate",description:function(){return"Carbon copy file"}},{uuid:"Move"},{divider:!0},{uuid:"Rename"},{uuid:"Delete",keyboardShortcuts:[[ye.zX,ye.zH],[ye.PQ,ye.ro]]},{divider:!0},{uuid:"Transfer",items:[{uuid:"Upload files"},{uuid:"Download file"}]},{uuid:"Copy",items:[{uuid:"Copy path"},{uuid:"Copy relative path"}]},{divider:!0},{uuid:"View",items:[{uuid:"Expand subdirectories"},{uuid:"Collapse subdirectories"}]},{divider:!0},{uuid:"Projects",items:[{uuid:"New Mage project"},{uuid:"New dbt project"}]}];p(e,n,{handleEscape:function(e){f(e)},rects:{bounding:h.current.getBoundingClientRect()}})},themeContext:g},"".concat(e.name,"-").concat(n))}))}))}}var O=(0,fe.T)({resource:"browser_items"},{handlers:{list:{onSuccess:function(e){(null==e?void 0:e.length)>=1&&(y.current=e,j(e||[]))}}}});return(0,l.useEffect)((function(){y.current||O.list.isPending||O.list.mutate({query:{exclude_pattern:m.I1,include_pattern:encodeURIComponent(String(m.d2))}});var e=null==Z?void 0:Z.current;return function(){e&&e.unmount()}}),[]),(0,K.jsxs)(ae.Z,{ref:h,style:{overflow:"auto"},children:[O.list.isPending&&(0,K.jsx)(de.Z,{}),(0,K.jsx)("div",{id:P})]})}var xe=l.forwardRef(Pe)}}]);