"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2359],{22359:function(n,u,e){e.r(u),e.d(u,{default:function(){return g}});var t=e(77837),r=e(82394),l=e(75582),o=e(21831),i=e(38860),c=e.n(i),a=e(51774),d=e.n(a),v=e(5508),f=e(82684),s=e(78050),p=e(11611),h=e(87118),y=e(86735),b=e(10658),O=e(28189);function m(n,u){return E.apply(this,arguments)}function E(){return(E=(0,t.Z)(c().mark((function n(u,t){var l,o,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l={},(0,r.Z)(l,O.KU.BROWSER,(0,r.Z)({},O.dS.SYSTEM,null)),(0,r.Z)(l,O.KU.EDITOR,(0,r.Z)({},O.dS.IDE,Promise.all([e.e(8266),e.e(4781)]).then(e.bind(e,85966)))),i=l,n.abrupt("return",(null==i||null===(o=i[u])||void 0===o?void 0:o[t])||null);case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var w=e(28598);function j(n,u){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);u&&(t=t.filter((function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable}))),e.push.apply(e,t)}return e}function P(n){for(var u=1;u<arguments.length;u++){var e=null!=arguments[u]?arguments[u]:{};u%2?j(Object(e),!0).forEach((function(u){(0,r.Z)(n,u,e[u])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):j(Object(e)).forEach((function(u){Object.defineProperty(n,u,Object.getOwnPropertyDescriptor(e,u))}))}return n}var g=function(n){var u,i,a=n.apps,O=n.operations,E=null==O||null===(u=O[h.T.REMOVE_PANEL])||void 0===u?void 0:u.effect,j=null==O||null===(i=O[h.T.REMOVE_APP])||void 0===i?void 0:i.effect,g=(0,f.useRef)(null),Z=(0,f.useRef)({}),R=(0,f.useRef)({}),D=(0,f.useRef)({});function k(n){Z.current[null==n?void 0:n.uuid]=n}function S(n,u){var e,t,r=(n||{}).uuid,i={};if(Object.values((null==Z?void 0:Z.current)||{}).forEach((function(n){var u,e=null==n||null===(u=n.layout)||void 0===u?void 0:u.row;e in i||(i[e]=[]),i[e].push(n)})),u){var c,a,d=null==u?void 0:u.uuid,v=null==Z||null===(c=Z.current)||void 0===c?void 0:c[d],f=null==v?void 0:v.layout,s=null==u?void 0:u.layout,p=null==i||null===(a=i[null==f?void 0:f.row])||void 0===a?void 0:a.findIndex((function(n){return n.uuid===d})),h=(null==f?void 0:f.row)+((null==s?void 0:s.row)||0),O=p+((null==s?void 0:s.column)||0),m=O<0?0:O;i[h]=i[h]||[],i[h]=(0,y.VS)({column:m,row:h,uuid:r},m,i[h])}var E=Math.max.apply(Math,(0,o.Z)(null===(e=Object.values(i||{}))||void 0===e?void 0:e.map((function(n){return(null==n?void 0:n.length)||0}))));null===(t=(0,y.YC)(Object.entries(i),(function(n){return(0,l.Z)(n,1)[0]})))||void 0===t||t.forEach((function(n,u){var e,t=(0,l.Z)(n,2),r=(t[0],t[1]),o=(null==r?void 0:r.length)||0;null===(e=(0,y.YC)(r,(function(n){var u=n.layout;return null==u?void 0:u.column})))||void 0===e||e.forEach((function(n,e){var t=null==n?void 0:n.uuid,r=e,l=r+Math.floor((E-o)/(o-e)),i=P(P({},n),{},{layout:P(P({},(null==n?void 0:n.layout)||{}),{},{column:r,columnSpan:l,row:u}),uuid:t});k(i),(0,b.$)(i)}))}))}function T(n,u){var l,o,i,a=n.subtype,p=n.type,y=n.uuid,O=u||{},j=O.container,x=O.grid;(S(n,null==x?void 0:x.relative),y in(null==Z?void 0:Z.current))||k(P(P({},(null==x?void 0:x.absolute)||{}),{},{layout:(null==x||null===(i=x.absolute)||void 0===i?void 0:i.layout)||{column:0,row:0},uuid:y}));var A=null==Z||null===(l=Z.current)||void 0===l?void 0:l[y];null===(o=j||(null==g?void 0:g.current))||void 0===o||o.appendChild((0,b.$)(A)),setTimeout((function(){var u=document.getElementById(y);if(u&&!D.current[y]){D.current[y]=(0,s.createRoot)(u);var l=(0,f.createRef)();R.current[y]=l;var o=function(){var u=(0,t.Z)(c().mark((function u(){var t,o,i;return c().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,m(p,a);case 2:(t=u.sent)&&(i=d()((function(){return e.e(5952).then(e.bind(e,58936))}),{loadableGenerated:{webpack:function(){return[58936]}}}),D.current[y].render((0,w.jsx)(v.default,{children:(0,w.jsx)(i,{app:n,appLoader:null==t?void 0:t.default,operations:(o={},(0,r.Z)(o,h.T.ADD_APP,{effect:T}),(0,r.Z)(o,h.T.ADD_PANEL,{effect:E}),(0,r.Z)(o,h.T.REMOVE_APP,{effect:_}),o),ref:l,uuid:y})})));case 4:case"end":return u.stop()}}),u)})));return function(){return u.apply(this,arguments)}}();o()}}),0)}function _(n){var u,e,t;null!=D&&null!==(u=D.current)&&void 0!==u&&u[n]&&(D.current[n].unmount(),delete D.current[n]);var r=document.getElementById(n);r&&(null==r||r.remove()),null!=R&&null!==(e=R.current)&&void 0!==e&&e[n]&&delete R.current[n],null!=Z&&null!==(t=Z.current)&&void 0!==t&&t[n]&&delete Z.current[n],S(),j&&(null==j||j(n,null==Z?void 0:Z.current))}return(0,f.useEffect)((function(){var n;null!=g&&g.current&&(null!==(n=Object.keys((null==Z?void 0:Z.current)||{}))&&void 0!==n&&n.length||(null==a?void 0:a.length)>=1&&(null==a||a.forEach((function(n,u){setTimeout((function(){T(n,null==g?void 0:g.current)}),100*u)}))));return function(){D.current={}}}),[]),(0,w.jsx)(p.Z,{autoColumns:"1fr",autoRows:"1fr",columnGap:12,justifyContent:"stretch",justifyItems:"stretch",ref:g,rowGap:12})}}}]);