(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9234],{93808:function(t,n,e){"use strict";e.d(n,{Z:function(){return C}});var r=e(77837),o=e(26304),u=e(62243),i=e(29385),s=e(80022),l=e(13692),c=e(93189),a=e(15544),d=e(82394),v=e(38860),f=e.n(v),p=e(82684),h=e(56663),m=e.n(h),g=e(40761),E=e(34661),b=e(36105),O=e(50178),y=e(69419),R=e(28598),j=["auth"];function _(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function x(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?_(Object(e),!0).forEach((function(n){(0,d.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):_(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function w(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=(0,a.Z)(t);if(n){var o=(0,a.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,c.Z)(this,e)}}function C(t){return function(n){(0,l.Z)(a,n);var e,c=w(a);function a(){var t;(0,u.Z)(this,a);for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return t=c.call.apply(c,[this].concat(e)),(0,d.Z)((0,s.Z)(t),"state",{auth:new g.Z(t.props.token)}),t}return(0,i.Z)(a,[{key:"componentDidMount",value:function(){this.setState({auth:new g.Z(this.props.token)})}},{key:"render",value:function(){var n=this.props,e=(n.auth,(0,o.Z)(n,j));return(0,R.jsx)(t,x({auth:this.state.auth},e))}}],[{key:"getInitialProps",value:(e=(0,r.Z)(f().mark((function n(e){var r,o,u,i,s,l,c,a,d;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=m()(e),o=(0,O.ex)(e),u=o.id,i=r[E.Mv],s=r[b.qt],l=new g.Z(i),c=x(x({},e),{},{auth:l,currentGroupId:u,theme:s}),(0,O.YB)(e)&&l.isExpired&&(console.log("OAuth token has expired."),a=x(x({},e.query),{},{redirect_url:e.asPath}),(0,y.nL)("/sign-in?".concat((0,y.uM)(a)),e.res)),!t.getInitialProps){n.next=12;break}return n.next=10,t.getInitialProps(c);case 10:return d=n.sent,n.abrupt("return",x(x({},d),{},{auth:l,currentGroupId:u,theme:s}));case 12:return n.abrupt("return",c);case 13:case"end":return n.stop()}}),n)}))),function(t){return e.apply(this,arguments)})}]),a}(p.Component)}},20256:function(t,n,e){"use strict";e.d(n,{W:function(){return u},x:function(){return o}});var r=e(10360);function o(t){return t&&(null==t||t.close()),r.Wk.CLOSED}function u(t){var n,e,o,u,i,s,l,c=null==t||null===(n=t.result)||void 0===n?void 0:n.status,a=null==t||null===(e=t.result)||void 0===e?void 0:e.type;return null!==(null!==(o=null!==(u=null==t?void 0:t.error)&&void 0!==u?u:null==t||null===(i=t.result)||void 0===i?void 0:i.error)&&void 0!==o?o:null==t||null===(s=t.result)||void 0===s||null===(l=s.process)||void 0===l?void 0:l.exitcode)||[r.YI.ERROR,r.YI.FAILURE,r.YI.INTERRUPTED].includes(c)||r.YI.READY===c&&a===r.XM.STATUS}},46042:function(t,n,e){"use strict";e.d(n,{sp:function(){return S},Tu:function(){return N.T}});var r=e(45795),o=e(89565),u=e.n(o),i=e(82684),s=e(73457),l=e(89635),c=e(66878),a=e(63091),d=e(11611),v=e(28160),f=e(36801),p=e.n(f),h=e(28862),m=e(86735),g=e(28598),E=["bottomLeft","bottomRight","right","topLeft","topRight"],b=(0,i.memo)((function(t){var n,e,r,o,i,f,b,O,y,R,j,_,x=t.dismissError,w=t.errorRef,C=(t.retry,(0,s.o)()),S=(0,m.mp)(E),N=(null!==(n=null==w||null===(e=w.current)||void 0===e||null===(r=e.response)||void 0===r?void 0:r.data)&&void 0!==n?n:{}).error,T=(null!==(o=null==w||null===(i=w.current)||void 0===i?void 0:i.client)&&void 0!==o?o:{}).error,P=null==N?void 0:N.code,Z=null!==(f=null==N?void 0:N.errors)&&void 0!==f?f:null==T?void 0:T.errors,M=null!==(b=null==N?void 0:N.message)&&void 0!==b?b:null==T?void 0:T.message,D=null!==(O=null==N?void 0:N.type)&&void 0!==O?O:null==T?void 0:T.type;return(0,g.jsx)("div",{onPointerDown:function(t){},children:(0,g.jsx)(l.E.div,{className:[p().errorManager,p()[S]].filter(Boolean).join(" "),dragControls:C,children:(0,g.jsxs)(d.Z,{borderColor:"redmd",borders:!0,className:p().errorContainer,rowGap:12,style:{borderWidth:2,padding:24},templateColumns:"auto",templateRows:"auto auto",width:"max-content",children:[(0,g.jsxs)(d.Z,{rowGap:12,templateColumns:"auto",templateRows:"auto auto",children:[(0,g.jsx)(h.uyG,{colorName:"yellow"}),(null==w||null===(y=w.current)||void 0===y?void 0:y.message)&&(0,g.jsx)(v.Z,{monospace:!0,secondary:!0,semibold:!0,small:!0,children:(0,g.jsx)(u(),{children:null==w||null===(R=w.current)||void 0===R?void 0:R.message})}),(null===(j=[P,D,M,(null==Z?void 0:Z.length)>=1])||void 0===j?void 0:j.some(Boolean))&&(0,g.jsx)(a.Z,{}),[P,D,M].map((function(t){return t&&(0,g.jsx)(v.Z,{monospace:!0,small:!0,children:(0,g.jsx)(u(),{children:String(t)})},t)})),(null===(_=[(null==Z?void 0:Z.length)>0])||void 0===_?void 0:_.some(Boolean))&&(0,g.jsx)(a.Z,{short:!0}),(null==Z?void 0:Z.length)>=1&&T&&(0,g.jsx)(v.Z,{monospace:!0,small:!0,children:(0,g.jsx)("pre",{style:{whiteSpace:"pre-wrap"},children:(0,g.jsx)(u(),{children:null==Z?void 0:Z.join("\n")})})}),(null==Z?void 0:Z.length)>=1&&!T&&(0,g.jsx)("pre",{style:{whiteSpace:"break-spaces"},children:(0,g.jsx)(v.Z,{inline:!0,monospace:!0,small:!0,children:null==Z?void 0:Z.map((function(t){return(0,g.jsx)(u(),{children:t},t)}))})})]}),(0,g.jsx)(a.Z,{}),(0,g.jsxs)(d.Z,{autoFlow:"column",justifyContent:"space-between",templateColumns:"min-content",children:[(0,g.jsxs)(c.h,{children:[(0,g.jsx)(c.Z,{basic:!0,onClick:x,small:!0,children:"Dismiss error"}),!1]}),(0,g.jsxs)(c.h,{children:[(0,g.jsx)(c.Z,{Icon:h.ugo,basic:!0,disabled:!0,small:!0,children:"Fix error"}),(0,g.jsx)(c.Z,{Icon:h.u$H,basic:!0,disabled:!0,small:!0,children:"Explain error"})]})]})]})})})})),O=e(18735),y=e(85202),R=e(13903),j=e.n(R),_=e(54587),x=e(9518),w=e(78050),C="api-mutation-root",S=function(t){var n=t.children,e=(0,i.useContext)(x.ThemeContext),o=(0,i.useRef)(null),u=(0,i.useRef)(null),s=(0,i.useRef)(null),l=(0,i.useState)(null),c=l[0],a=l[1],d=(0,i.useRef)(null),v=(0,i.useMemo)((function(){var t,n;return null==c||null===(t=c.target)||void 0===t||null===(n=t.dataset)||void 0===n?void 0:n.loadingStyle}),[c]);function f(){var t,n;null==c||null===(t=c.target)||void 0===t||null===(n=t.classList)||void 0===n||n.remove(j().loading),a(null)}function h(){f(),o.current=null,(null==s?void 0:s.current)&&s.current.render(null)}return(0,g.jsx)(r.H.Provider,{value:{dismissError:h,dismissTarget:f,renderError:function(t,n){var r,i=(null==u?void 0:u.current)||(u.current=document.getElementById(C));(r=s).current||(r.current=(0,w.createRoot)(i)),h(),o.current=t,s.current.render((0,g.jsx)(x.ThemeProvider,{theme:e,children:(0,g.jsx)(b,{dismissError:h,errorRef:o,retry:n},String(new Date))}))},renderTarget:function(t){var n,e,r,o;a(t),_.i.INLINE===(null==t||null===(n=t.target)||void 0===n||null===(e=n.dataset)||void 0===e?void 0:e.loadingStyle)&&(null==t||null===(r=t.target)||void 0===r||null===(o=r.classList)||void 0===o||o.add(j().loading))}},children:(0,g.jsxs)(g.Fragment,{children:[n,(0,g.jsx)("div",{id:C}),c&&_.i.INLINE!==v&&y.createPortal((0,g.jsxs)("div",{className:p().target,ref:d,style:{height:null!=c&&c.content?"inherit":2,left:c.rect.left,top:c.rect.top+c.rect.height,width:c.rect.width},children:[!c.content&&(0,g.jsx)(O.Z,{}),c.content]}),document.body)]})})},N=e(64524)},10360:function(t,n,e){"use strict";e.d(n,{Vb:function(){return u},Wk:function(){return d},XM:function(){return s},YI:function(){return c},n2:function(){return v},nR:function(){return i}});var r,o,u,i,s,l,c,a=e(82394);!function(t){t.INTERRUPT="interrupt",t.RESTART="restart",t.TERMINATE="terminate"}(u||(u={})),function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=2]="CLOSED"}(i||(i={})),function(t){t.DATA="data",t.OUTPUT="output",t.STATUS="status",t.STDOUT="stdout"}(s||(s={})),function(t){t.EXECUTION="execution",t.EXECUTION_STATUS="execution_status",t.TASK="task",t.TASK_STATUS="task_status"}(l||(l={})),function(t){t.CANCELLED="cancelled",t.ERROR="error",t.FAILURE="failure",t.INIT="init",t.INTERRUPTED="interrupted",t.READY="ready",t.RESTARTED="restarted",t.RUNNING="running",t.SUCCESS="success",t.TERMINATED="terminated"}(c||(c={}));var d,v=(r={},(0,a.Z)(r,c.CANCELLED,"cancelling"),(0,a.Z)(r,c.INIT,"initializing"),(0,a.Z)(r,c.INTERRUPTED,"interrupting"),(0,a.Z)(r,c.RESTARTED,"restarting"),(0,a.Z)(r,c.SUCCESS,"succeeded"),(0,a.Z)(r,c.TERMINATED,"terminating"),r);!function(t){t.CLOSED="closed",t.CONNECTING="connecting",t.OPEN="open",t.RECONNECTING="reconnecting"}(d||(d={}));o={},(0,a.Z)(o,i.CLOSED,d.CLOSED),(0,a.Z)(o,i.CONNECTING,d.CONNECTING),(0,a.Z)(o,i.OPEN,d.OPEN)},63091:function(t,n,e){"use strict";e(82684);var r=e(85059),o=e.n(r),u=e(28598);n.Z=function(t){var n=t.compact,e=t.short,r=t.vertical;return(0,u.jsx)("div",{className:[o().divider,e&&!r?o().short:"",e||r?"":o().full,r?o().vertical:"",n?o().compact:""].join(" ")})}},90212:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return w}});var r=e(77837),o=e(38860),u=e.n(o),i=e(82684),s=e(93808),l=e(51774),c=e.n(l),a=e(82394),d=e(10360),v=e(20256),f=e(4383),p=e(46042),h=e(95924),m=e(42122);function g(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function E(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?g(Object(e),!0).forEach((function(n){(0,a.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):g(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var b=1e3;function O(t){for(var n=["[CodeExecutionManager] ".concat(t)],e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];Array.isArray(r)&&r.length>0&&n.push.apply(n,r)}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autoReconnect:!0,maxConnectionAttempts:10,throttle:1e3},n=t.autoReconnect,e=t.maxConnectionAttempts,r=(t.throttle,(0,i.useRef)({})),o=(0,i.useRef)({}),u=(0,i.useRef)(null),s=(0,i.useRef)(null),l=(0,i.useRef)(null),c=(0,i.useRef)({}),a=((0,i.useRef)([]),(0,i.useRef)(null),(0,i.useRef)(null),(0,i.useRef)({})),g=(0,i.useRef)([]),y=(0,p.Tu)({resource:"code_executions"},{handlers:{create:{onError:function(t,n){O("mutants.onError",[t,n]),g.current.push(t)},onSuccess:function(t,n){O("mutants.create.onSuccess",[t,n])}}}});function R(t){var n,e,r,o,u,i,l,c,d,v,f,p,h=function(t){var n,e,r,o,u,i=JSON.parse(null!==(n=t.data)&&void 0!==n?n:"{}");return{channel:null==i?void 0:i.uuid,source:null==i||null===(e=i.result)||void 0===e||null===(r=e.process)||void 0===r?void 0:r.source,stream:null==i||null===(o=i.result)||void 0===o||null===(u=o.process)||void 0===u?void 0:u.stream}}(t),m=h.channel,g=h.stream,E=JSON.parse(t.data);(null==s?void 0:s.current)&&(null==s||null===(n=s.current)||void 0===n||n.call(s,t)),null==a||null===(e=a.current)||void 0===e||null===(r=e[m])||void 0===r||null===(o=r.streams[g])||void 0===o||null===(u=o.options)||void 0===u||null===(i=u.onMessage)||void 0===i||i.call(u,E);var b=null!==(l=null==a||null===(c=a.current)||void 0===c||null===(d=c[m])||void 0===d||null===(v=d.streams[g])||void 0===v?void 0:v.consumers)&&void 0!==l?l:{};O("useEventStreams.onmessage",t,E,null==a||null===(f=a.current)||void 0===f?void 0:f[m],Object.keys(null!=b?b:{})),null===(p=Object.values(null!=b?b:{}))||void 0===p||p.forEach((function(t){var n,e=t.options;null==e||null===(n=e.onMessage)||void 0===n||n.call(e,E)}))}function j(t,n){var e=_(t);if(e){var r;if(d.nR.OPEN===e.readyState)return clearTimeout(null==o||null===(r=o.current)||void 0===r?void 0:r[t]),e;var u,i,s,l,v,p,h=Object.keys(null!==(u=null===(i=a.current[t])||void 0===i?void 0:i.streams)&&void 0!==u?u:{}).length,m=Object.keys(null!==(s=null===(l=a.current[t])||void 0===l||null===(v=l.streams)||void 0===v||null===(p=v[n])||void 0===p?void 0:p.consumers)&&void 0!==s?s:{}).length;O("Closing inactive connection for channel ".concat(t," with ").concat(h," ")+"streams and ".concat(m," consumers")),w(t),e=null}if(e=_(t))return e;O("Connecting to server..."),function(t){var n=new EventSource((0,f.if)(t));x(n),c.current[t]=n}(t),e=_(t)}function _(t){var n=c.current[t];return x(n),c.current[t]=n,n}function x(t){null!=t&&t&&(t.onerror=function(t){!function(t){var n;(null==u?void 0:u.current)&&(null==u||null===(n=u.current)||void 0===n||n.call(u,t)),O("useEventStreams.onerror",t)}(t)},t.onmessage=function(t){R(t)},t.onopen=function(t){!function(t){var n,e=t.target;(null==l?void 0:l.current)&&(null==l||null===(n=l.current)||void 0===n||n.call(l,t)),O("useEventStreams.onopen",e)}(t)})}function w(t){t in a.current&&delete a.current[t];var n=_(t);n&&((0,v.x)(n),delete c.current[t])}function C(){var t,n;return null===(t=Object.values(null!==(n=null==c?void 0:c.current)&&void 0!==n?n:[]))||void 0===t?void 0:t.filter((function(t){return null!=t&&t&&(null==t?void 0:t.readyState)===d.nR.OPEN}))}return{teardown:function(){Object.keys(null==c?void 0:c.current).length>0&&(O("Tearing down..."),Object.keys(null==c?void 0:c.current).forEach((function(t){w(t),O("Closed event stream connection for ".concat(t))})))},useExecuteCode:function(t,n){return{executeCode:function(e,r,o){var u,i=(0,h.I)();return y.create.mutate({onError:function(t){var n;(null==o?void 0:o.onError)&&(null==o||null===(n=o.onError)||void 0===n||n.call(o,t))},onSuccess:function(t){var n;(null==o?void 0:o.onSuccess)&&(null==o||null===(n=o.onSuccess)||void 0===n||n.call(o,t))},payload:E(E({},r),{},{message:e,message_request_uuid:null!==(u=null==r?void 0:r.message_request_uuid)&&void 0!==u?u:i,stream:n,timestamp:Number(new Date),uuid:t})}),i}}},useRegistration:function(t,i){return{subscribe:function(s,v){var f,p,h,g,y,R,x,S,N,T,P,Z,M,D=Object.keys(null!==(f=null==a||null===(p=a.current)||void 0===p||null===(h=p[t])||void 0===h||null===(g=h.streams)||void 0===g||null===(y=g[i])||void 0===y?void 0:y.consumers)&&void 0!==f?f:{});O("useRegistration.subscribe.before",t,i,s,v,D),(0,m.mv)(null!==(R=null==a?void 0:a.current)&&void 0!==R?R:{},[t,"options"].join("."),v),(0,m.mv)(null!==(x=null==a?void 0:a.current)&&void 0!==x?x:{},[t,"streams",i,"options"].join("."),v),(0,m.mv)(null!==(S=null==a?void 0:a.current)&&void 0!==S?S:{},[t,"streams",i,"consumers",s,"options"].join("."),v),function(t,i){var s;t in c.current&&i in a.current[t].streams||(C().length>=b?O("Max open connections reached: ".concat(null===(s=C())||void 0===s?void 0:s.length," of ").concat(b)):function s(c){!function(a){var v,f=E(E({},c),a),p=f.onError,h=f.onOpen;l.current=function(t){O("useEventStreams.onopen",m,t);var n=d.Wk.OPEN;h&&(null==h||h(n,t))},u.current=function(u){var s,l;if(console.error("EventSource for channel ".concat(t," and stream ").concat(i," failed with error"),u),w(t),p&&(null==p||p(u)),n){(s=r.current)[t]||(s[t]=e),r.current[t]-=1;var c=r.current[t];c<=0||(clearTimeout(null==o||null===(l=o.current)||void 0===l?void 0:l[t]),o.current[t]=setTimeout((function(){O("Reconnecting to server with ".concat(c," attempt(s) remaining...")),j(t,i)}),1e3*(e-c+1)))}},r.current[t]=null!==(v=r.current[t])&&void 0!==v?v:e,j(t,i);var m=_(t);m?_(t):s()}({onError:function(t){var n;null!=c&&c.onError&&(null==c||null===(n=c.onError)||void 0===n||n.call(c,t))},onOpen:function(t,n){var e;null!=c&&c.onOpen&&(null==c||null===(e=c.onOpen)||void 0===e||e.call(c,t,n))}})}())}(t,i,E(E({},v),{},{onOpen:function(t,n){var e;null!=v&&v.onOpen&&(null==v||null===(e=v.onOpen)||void 0===e||e.call(v,t,n))}}));var I=Object.keys(null!==(N=null==a||null===(T=a.current)||void 0===T||null===(P=T[t])||void 0===P||null===(Z=P.streams)||void 0===Z||null===(M=Z[i])||void 0===M?void 0:M.consumers)&&void 0!==N?N:{});O("useRegistration.subscribe.after",t,i,s,v,I)},unsubscribe:function(n){var e,r,o,u,s;null==a||(null===(e=a.current)||void 0===e||(null===(r=e[t])||void 0===r||(null===(o=r.streams)||void 0===o||(null===(u=o[i])||void 0===u||(null===(s=u.consumers)||void 0===s||delete s[n])))))}}}}}var R=e(78151),j=e(28598),_=c()((function(){return Promise.all([e.e(1041),e.e(9047),e.e(6997)]).then(e.bind(e,40625))}),{ssr:!1,loadableGenerated:{webpack:function(){return[40625]}}});function x(t){var n=t.framework,e=t.uuid,r=y(),o=r.teardown,u=r.useExecuteCode,s=r.useRegistration;return(0,i.useEffect)((function(){return function(){return o()}}),[]),(0,j.jsx)(_,{frameworkUUID:n,useExecuteCode:u,useRegistration:s,uuid:e})}x.getInitialProps=function(){var t=(0,r.Z)(u().mark((function t(n){var e,r,o;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.query,r=e.framework,o=e.uuid,t.abrupt("return",{framework:r,uuid:o,version:R.A.V2});case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();var w=(0,s.Z)(x)},78151:function(t,n,e){"use strict";var r;e.d(n,{A:function(){return r}}),function(t){t.V2="v2"}(r||(r={}))},15066:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/v2/pipelines/[uuid]/builder/[framework]",function(){return e(90212)}])},85059:function(t){t.exports={divider:"Divider_divider__yfOqj",short:"Divider_short__otA5r",full:"Divider_full__gbb3x",vertical:"Divider_vertical__pKs_7",compact:"Divider_compact__VW40b","dashed-divider":"Divider_dashed-divider__2dffa"}},36801:function(t){t.exports={errorManager:"ErrorManager_errorManager__Ndvfo",right:"ErrorManager_right__u08uU",left:"ErrorManager_left__CWjDX",topRight:"ErrorManager_topRight__hhz2A",topLeft:"ErrorManager_topLeft__dpmcp",bottomLeft:"ErrorManager_bottomLeft__X4zMM",bottomRight:"ErrorManager_bottomRight__YPZXk",errorContainer:"ErrorManager_errorContainer__OEePD",target:"ErrorManager_target__nc6_5"}},78379:function(t,n,e){"use strict";e.d(n,{D:function(){return d}});var r=e(82684),o=e(91204),u=e(42034),i=e(5285),s=e(59714),l=class extends i.l{#t;#n=void 0;#e;#r;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),(0,s.VS)(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#e,observer:this}),n?.mutationKey&&this.options.mutationKey&&(0,s.Ym)(n.mutationKey)!==(0,s.Ym)(this.options.mutationKey)?this.reset():"pending"===this.#e?.state.status&&this.#e.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#e?.removeObserver(this)}onMutationUpdate(t){this.#o(),this.#u(t)}getCurrentResult(){return this.#n}reset(){this.#e?.removeObserver(this),this.#e=void 0,this.#o(),this.#u()}mutate(t,n){return this.#r=n,this.#e?.removeObserver(this),this.#e=this.#t.getMutationCache().build(this.#t,this.options),this.#e.addObserver(this),this.#e.execute(t)}#o(){const t=this.#e?.state??(0,o.R)();this.#n={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#u(t){u.V.batch((()=>{if(this.#r&&this.hasListeners()){const n=this.#n.variables,e=this.#n.context;"success"===t?.type?(this.#r.onSuccess?.(t.data,n,e),this.#r.onSettled?.(t.data,null,n,e)):"error"===t?.type&&(this.#r.onError?.(t.error,n,e),this.#r.onSettled?.(void 0,t.error,n,e))}this.listeners.forEach((t=>{t(this.#n)}))}))}},c=e(30210);function a(){}function d(t,n){const e=(0,c.NL)(n),[o]=r.useState((()=>new l(e,t)));r.useEffect((()=>{o.setOptions(t)}),[o,t]);const i=r.useSyncExternalStore(r.useCallback((t=>o.subscribe(u.V.batchCalls(t))),[o]),(()=>o.getCurrentResult()),(()=>o.getCurrentResult())),s=r.useCallback(((t,n)=>{o.mutate(t,n).catch(a)}),[o]);if(i.error&&(d=o.options.throwOnError,v=[i.error],"function"==typeof d?d(...v):d))throw i.error;var d,v;return{...i,mutate:s,mutateAsync:i.mutate}}},73457:function(t,n,e){"use strict";e.d(n,{o:function(){return i}});var r=e(47348);class o{constructor(){this.componentControls=new Set}subscribe(t){return this.componentControls.add(t),()=>this.componentControls.delete(t)}start(t,n){this.componentControls.forEach((e=>{e.start(t.nativeEvent||t,n)}))}}const u=()=>new o;function i(){return(0,r.h)(u)}},68392:function(t,n,e){"use strict";e.d(n,{p:function(){return i}});var r=e(82684),o=e(49817),u=e(94100);function i(t){const n=(0,r.useRef)(0),{isStatic:e}=(0,r.useContext)(o._);(0,r.useEffect)((()=>{if(e)return;const r=({timestamp:e,delta:r})=>{n.current||(n.current=e),t(e-n.current,r)};return u.Wi.update(r,!0),()=>(0,u.Pn)(r)}),[t])}},80022:function(t,n,e){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}e.d(n,{Z:function(){return r}})},15544:function(t,n,e){"use strict";function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}e.d(n,{Z:function(){return r}})},13692:function(t,n,e){"use strict";e.d(n,{Z:function(){return o}});var r=e(61049);function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&(0,r.Z)(t,n)}},93189:function(t,n,e){"use strict";e.d(n,{Z:function(){return u}});var r=e(12539),o=e(80022);function u(t,n){if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(t)}}},function(t){t.O(0,[9635,5070,9297,9774,2888,179],(function(){return n=15066,t(t.s=n);var n}));var n=t.O();_N_E=n}]);